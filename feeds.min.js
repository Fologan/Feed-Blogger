async function getPostLink(e){return e.link.find(e=>"alternate"===e.rel).href}function isYoutubeUrl(e){return null!=e&&"string"==typeof e&&e.includes("img.youtube.com")}function getPostImage(e){let t=e.media$thumbnail?e.media$thumbnail.url:"";if(isYoutubeUrl(t))return t.replace("default","mqdefault");const n=/-w\d+-h\d+(-c)?/.test(t);return t=n?t.replace(/s\d+-?-w\d+-h\d+(-c)?/,"-w666-h375-c"):t.replace(/\/s\d+(-c)?/,"/h375"),t}async function createSection(e,t,n){try{const r=await fetch("/feeds/posts/default/-/"+t+"?alt=json&max-results="+n);if(!r.ok)throw new Error("Error al cargar las entradas");const a=await r.json(),c=a.feed.entry,o=document.createDocumentFragment();c.forEach(function(n){const r=n.title.$t,a=getPostLink(n),c=getPostImage(n),i=document.createElement("div");i.classList.add("filter-tags"),i.innerHTML=(c?`<div class='imagen-container'><a href="${a}"><img src="${c}" alt="Portada del post"></a></div>`:"")+`<div class='filter-tags-title-container'><h3 class='filter-tags-title'><a href="${a}">${r}</a></h3></div>`,o.appendChild(i)}),e.appendChild(o)}catch(e){console.error(e.message)}}document.querySelectorAll("[data-section-label]").forEach(async function(e){const t=e.dataset.sectionLabel,n=parseInt(e.dataset.numberPost,10)||9;await createSection(e,t,n)})
